{% extends "base.html" %}
{% block content %}
<h3>ðŸ“š Issued Books</h3>

<div class="issued-list">
    {% for book in books %}
        <div class="book-card">
            <h4>{{ book["name"] }}</h4>
            <p><strong>Serial:</strong> {{ book["serial"] }}</p>
            <p><strong>Author:</strong> {{ book["author"] }}</p>
            <p><strong>Taken By:</strong> {{ book["taken_by"] }}</p>

                <form method="POST" action="{{ url_for('return_book', book_id=book['id']) }}">
                <button type="submit">Return</button>
            </form>
        </div>
    {% endfor %}
</div>

<!-- Table view only for desktop -->
<table class="desktop-table">
    <thead>
        <tr>
            <th>Serial</th>
            <th>Name</th>
            <th>Author</th>
            <th>Taken By</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for book in books %}
        <tr>
            <td>{{ book["serial"] }}</td>
            <td>{{ book["name"] }}</td>
            <td>{{ book["author"] }}</td>
            <td>{{ book["taken_by"] }}</td>
            <td>
                    <form method="POST" action="{{ url_for('return_book', book_id=book['id']) }}">
                    <button type="submit">Return</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
